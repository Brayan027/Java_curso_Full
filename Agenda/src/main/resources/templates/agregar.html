<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragmentos/cabecero::cabecero-seccion(titulo='agregar')}">
</head>
<body>


<!--Div es del menu de navegacion--->
<div th:replace="~{fragmentos/navegacion::navegacion-seccion}"></div>

<div class="=container">
  <div class="container text-center" style="margin:30px">

  <h3>Agregar contacto</h3>
  </div>
  <div class="container">
    <form  id="formAgregar" action="/agregar" modelAttribute="contactoForma" method="post">

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre:</label>
      <input type="text" class="form-control"
             id="nombre"  name="nombre"
             placeholder="Eje:Brayan">
    </div>
    <div class="mb-3">
      <label for="celular" class="form-label">Celular:</label>
      <input type="text" class="form-control"
             id="celular"  name="celular"
             placeholder="Eje:310121212">
    </div>
    <div class="mb-3">
      <label for="imail" class="form-label">Imail:</label>
      <input type="email" class="form-control"
             id="imail"  name="email"
             placeholder="Eje:@brayan.com">
    </div>
    <div class="text-center">
      <button type="submit" class="btn btn-warning btn-sm me-3">Agregar</button>
    <a href="/" class="btn btn-danger btn-sm">Regresar</a>
    </div>
    </form>
  </div>
  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    const form = document.getElementById("formAgregar");
    form.addEventListener("submit", function(event) {
      event.preventDefault(); // evitar envío automático
      Swal.fire({
  title: "Desea guardar el contacto?",
  showDenyButton: true,
  showCancelButton: true,
  confirmButtonText: "Save",
  denyButtonText: `Don't save`
}).then((result) => {
  /* Read more about isConfirmed, isDenied below */
  if (result.isConfirmed) {
    Swal.fire("Contacto guardado!", "", "success").then(() => {
          form.submit(); // aquí sí se envía al backend
        });

  } else if (result.isDenied) {
    Swal.fire("No se guardo el contacto", "", "info");
  }
});
    });

  </script>




</div>


<div th:replace="~{fragmentos/pie_de_pagina::pie}">
</div>
</body>
</html>