<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragmentos/cabecero::cabecero-seccion(titulo='Editar')}">
</head>
<body>


<!--Div es del menu de navegacion--->
<div th:replace="~{fragmentos/navegacion::navegacion-seccion}"></div>

<div class="=container">
  <div class="container text-center" style="margin:30px">

    <h3>Editar contacto</h3>
  </div>

    <div class="container">
        <form id="formEditar" action="/editar" th:object="${contacto}" method="post">
            <input type="hidden" th:field="*{idContacto}"/>

            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre:</label>
                <input type="text" class="form-control"
                       id="nombre" name="nombre"
                       placeholder="Eje: Brayan" th:field="*{nombre}">
            </div>

            <div class="mb-3">
                <label for="celular" class="form-label">Celular:</label>
                <input type="text" class="form-control"
                       id="celular" name="celular"
                       placeholder="Eje: 310121212" th:field="*{celular}">
            </div>

            <div class="mb-3">
                <label for="imail" class="form-label">Imail:</label>
                <input type="email" class="form-control"
                       id="imail" name="email"
                       placeholder="Eje: @brayan.com" th:field="*{email}">
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-warning btn-sm me-3">Editar</button>
                <a href="/" class="btn btn-danger btn-sm">Regresar</a>
            </div>
        </form>
    </div>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const form = document.getElementById("formEditar");

        form.addEventListener("submit", function(event) {
          event.preventDefault(); // evitar envío automático

          Swal.fire({
            title: "¿Deseas guardar los cambios?",
            showDenyButton: true,
            showCancelButton: true,
            confirmButtonText: "Guardar",
            denyButtonText: "No guardar"
          }).then((result) => {
            if (result.isConfirmed) {
              Swal.fire("Guardado!", "", "success").then(() => {
                form.submit(); // aquí sí se envía al backend
              });
            } else if (result.isDenied) {
              Swal.fire("Los cambios no fueron guardados", "", "info");
            }
          });
        });
    </script>

</div>
    <div th:replace="~{fragmentos/pie_de_pagina::pie}">
</div>
</body>
</html>